<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: InputHandling.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: InputHandling.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file
 * Handles input from various buttons and sliders using jQuery.
 */

// Collapse button for various modules
$('.collapseButton').click(function () {
    let moduleID = $(this).attr("module");
    switch (moduleID.charAt(0)) {
        case 'o':
            let attr = "[osc='" + moduleID.charAt(1) + "']";
            $('.visualiser' + attr + ', .oscillatorParameters' + attr).toggle();
            break;
        default:
            break;
    }
});

// Update oscillator frequency from slider.
$('.freq').on('input', function () {
    osc = oscillators[parseInt($(this).attr("osc"))];

    // The input is read on a curve to allow for finer control in small values
    osc.frequency = Math.round(Math.pow(1.006932, this.value)); 
    osc.updateOscillator();
});

// Update oscillator amplitude from slider.
$('.amplitude').on('input', function () {
    osc = oscillators[parseInt($(this).attr("osc"))];

    // The input is read on a curve to allow for finer control in values around 
    // 1 and then made symmetrical so the amplitude of 1 is at the middle of
    // the slider exactly
    osc.amplitude = 1 + (-0.000001 * this.value + 0.01) * this.value;
    osc.updateOscillator();
});

// Update oscillator x-offsset from slider.
$('.xoffset').on('input', function () {
    osc = oscillators[parseInt($(this).attr("osc"))];
    osc.xoffset = this.value / 1000;
    osc.updateOscillator();
});

// Update oscillator y-offsset from slider.
$('.yoffset').on('input', function () {
    osc = oscillators[parseInt($(this).attr("osc"))];
    osc.yoffset = this.value / 250;
    osc.updateOscillator();
});

// On doubleclick reset to default value
$('.oscillatorParameter').on('dblclick', function(){
    $(this).val($(this).attr("defaultValue"));
    $(this).trigger('input');
});

// Update oscillator wave type from dropdown
$('.waveMenu').change(function () {
    osc = oscillators[parseInt($(this).attr("osc"))];
    osc.type = parseInt(this.value);
    osc.updateOscillator();
});

// Instrument enabled / disabled dropdown.
$('.instrumentEnabled').on('input', function () {
    ins = instruments[parseInt($(this).attr("ins"))];
    ins.enabled = Boolean(this.value == 1);
});

// All the instrument dropdowns.
$('.oscillatorPicker').on('input', function () {
    ins = instruments[parseInt($(this).attr("ins"))];
    switch ($(this).attr('param')) {
        case "xPos":
            ins.xOsc = this.value;
            break;
    
        case "yPos":
            ins.yOsc = this.value;
            break;

        case "alpha":
            ins.alphaOsc = this.value;
            break;
    }
});

// Adds oscillator from add oscillator button.
$('#addOscillator').click(function () {
    Oscillator.addOscillator();
    if (oscillators.length >= maxOscillators) $(this).hide();
});

// Adds instrument from add instrument button.
$('#addOscillator').click(function () {
    Oscillator.addOscillator();
    if (oscillators.length >= maxOscillators) $(this).hide();
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Circle.html">Circle</a></li><li><a href="Instrument.html">Instrument</a></li><li><a href="Oscillator.html">Oscillator</a></li></ul><h3>Global</h3><ul><li><a href="global.html#bgColor">bgColor</a></li><li><a href="global.html#centreX">centreX</a></li><li><a href="global.html#centreY">centreY</a></li><li><a href="global.html#fadeColor">fadeColor</a></li><li><a href="global.html#fadeOpacity">fadeOpacity</a></li><li><a href="global.html#instruments">instruments</a></li><li><a href="global.html#oscillators">oscillators</a></li><li><a href="global.html#p">p</a></li><li><a href="global.html#s">s</a></li><li><a href="global.html#sCanvas">sCanvas</a></li><li><a href="global.html#synthesisPeriod">synthesisPeriod</a></li><li><a href="global.html#tau">tau</a></li><li><a href="global.html#waveColor">waveColor</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Sat Apr 25 2020 05:27:50 GMT+0300 (Eastern European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
